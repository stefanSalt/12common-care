# 12common-care 初始化与功能重新设计计划（2026-01-29）

目标：以 git@github.com:stefanSalt/base-admin.git 为基准，初始化本地项目并推送到 git@github.com:stefanSalt/12common-care.git，然后结合现有架构重新梳理/设计「管理员端 + 普通用户端」功能与模块边界（含权限与统计图表）。

## 0. 前置确认（不改代码）
- [x] 确认当前目录 `/home/stefan/projects/12common-care` 为空且不是 git 仓库（避免覆盖）
- [x] 确认你已在 GitHub 创建空仓库 `stefanSalt/12common-care`（或你希望我用其它方式初始化）
- [x] 确认是否保留 base-admin 的完整提交历史（2A：保留完整历史）

### 已确认决策
- 代码基准：git@github.com:stefanSalt/base-admin.git
- 新仓库：git@github.com:stefanSalt/12common-care.git
- remotes：仅保留 origin（3B）
- 默认分支：main（4）
- 前端形态：同一工程按角色做路由分区 + 权限控制（5A）
- 约束：沿用 base 仓库前后端框架与原有代码风格（6）

### 已确认业务口径（2026-01-29）
- 公告：仅登录可见（复用现有通知公告能力）
- 轮播图：后台可管理
- 众筹项目：普通用户可发布，管理员审核
- 数据统计占比图：公益活动报名量占比（替代“医疗服务挂号量占比”）

## 1. 仓库初始化（开始执行后）
- [x] 克隆 base-admin 到当前目录（clone into `.`）
- [x] 配置 remote：
  - [x] `origin` 指向 `git@github.com:stefanSalt/12common-care.git`（不保留 upstream）
- [x] 首次推送到新仓库（分支名对齐：main）

## 2. 架构盘点（开始执行后）
- [x] 识别项目形态：前后端分离（backend + frontend 同仓库）
- [x] 识别技术栈与关键约束：框架版本、路由/权限实现方式、请求层、状态管理、构建方式
- [x] 识别现有模块脚手架：菜单、页面模板、表格/表单组件、图表（ECharts）封装位置

盘点结论（摘要）：
- 后端：Spring Boot 3.2.1 + MyBatis-Plus + Spring Security(JWT) + WebSocket；MySQL 8；ID=ASSIGN_ID；sys_* 为系统表。
- 前端：Vue 3 + Vite + TS + Pinia + Element Plus；路由分区：/admin（后台）与 /（前台）；鉴权：requiresAuth；权限粒度：permission code（如 user:list）。
- 图表：当前未集成 ECharts（需按实际统计页面引入）。

## 3. 功能重新设计（开始执行后）
- [ ] 角色与权限模型（最小可用）：管理员 / 普通用户（可扩展但不提前实现）
- [ ] 管理员端模块（菜单/路由/权限点）：
  - [ ] 登录/个人信息/改密
  - [ ] 首页公告
  - [ ] 数据统计（近一周收入折线图、公益活动报名量占比）
  - [ ] 众筹项目（审核/管理）
  - [ ] 众筹捐款记录管理
  - [ ] 公益活动（管理 + 募捐收集）
  - [ ] 爱心事迹（文章管理）
  - [ ] 评论信息管理
  - [ ] 活动收藏管理
  - [ ] 管理员信息管理
  - [ ] 用户信息管理
- [ ] 普通用户端模块（如果复用同一前端则需路由分区；否则拆分项目）：
  - [ ] 登录/注册/个人信息/改密
  - [ ] 首页（轮播图、最新众筹、公告）
  - [ ] 爱心众筹（列表/详情/捐款/进度可视化）
  - [ ] 公益活动（列表/详情/捐赠/报名/签到）
  - [ ] 爱心事迹（列表/详情/评论）
  - [ ] 留言板（发布 + 列表）
  - [ ] 我的捐款记录
  - [ ] 我的报名（取消/签到）
  - [ ] 我的评论
  - [ ] 我的收藏
- [ ] 模块关联与创新点落地：
  - [ ] 多角色权限控制
  - [ ] 捐款进度可视化
  - [ ] ECharts 数据统计（数据口径与接口形态）

## 4. 输出物（开始执行后）
- [x] 产出一份“功能-页面-权限点-数据实体”对照表（可直接用于开发排期，见 `plans/feature_matrix_12common-care_20260129.md`）
- [ ] 后端已存在（沿用 base-admin 框架）：梳理接口口径，必要时输出 API 变更清单（不实现）
